<div class="flex flex-col flex-auto min-w-0">
    <!-- Main -->
    <div class="flex-auto p-6 sm:p-10">
        <div class="max-w-3xl">
            <div class="text-3xl font-semibold tracking-tight leading-8">Reportar Persona Desaparecida</div>
            <div class="mt-4">
                <p class="text-lg">
                    Complete el siguiente formulario con la información de la persona desaparecida. 
                    Mientras más detalles proporcione, más efectiva será la búsqueda.
                </p>
            </div>

            <!-- Formulario -->
            <form class="mt-8" [formGroup]="missingForm" (ngSubmit)="onSubmit()">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Información personal -->
                    <mat-form-field class="w-full">
                        <mat-label>Nombres</mat-label>
                        <input matInput formControlName="nombres" required>
                        <mat-error *ngIf="missingForm.get('nombres').hasError('required')">
                            Este campo es requerido
                        </mat-error>
                    </mat-form-field>

                    <mat-form-field class="w-full">
                        <mat-label>Apellidos</mat-label>
                        <input matInput formControlName="apellidos" required>
                        <mat-error *ngIf="missingForm.get('apellidos').hasError('required')">
                            Este campo es requerido
                        </mat-error>
                    </mat-form-field>

                    <mat-form-field class="w-full">
                        <mat-label>Edad</mat-label>
                        <input matInput type="number" formControlName="edad" required>
                        <mat-error *ngIf="missingForm.get('edad').hasError('required')">
                            Este campo es requerido
                        </mat-error>
                        <mat-error *ngIf="missingForm.get('edad').hasError('min') || missingForm.get('edad').hasError('max')">
                            La edad debe estar entre 0 y 120 años
                        </mat-error>
                    </mat-form-field>

                    <mat-form-field class="w-full">
                        <mat-label>Género</mat-label>
                        <input matInput formControlName="genero" required>
                        <mat-error *ngIf="missingForm.get('genero').hasError('required')">
                            Este campo es requerido
                        </mat-error>
                    </mat-form-field>

                    <!-- Detalles de la desaparición -->
                    <mat-form-field class="w-full">
                        <mat-label>Fecha de desaparición</mat-label>
                        <input matInput [matDatepicker]="picker" formControlName="fechaDesaparicion" required>
                        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                        <mat-datepicker #picker></mat-datepicker>
                        <mat-error *ngIf="missingForm.get('fechaDesaparicion').hasError('required')">
                            Este campo es requerido
                        </mat-error>
                    </mat-form-field>

                    <mat-form-field class="w-full">
                        <mat-label>Última ubicación conocida</mat-label>
                        <input matInput formControlName="ultimaUbicacion" required>
                        <mat-error *ngIf="missingForm.get('ultimaUbicacion').hasError('required')">
                            Este campo es requerido
                        </mat-error>
                    </mat-form-field>

                    <!-- Descripción física -->
                    <mat-form-field class="w-full">
                        <mat-label>Altura (cm)</mat-label>
                        <input matInput type="number" formControlName="altura">
                        <mat-error *ngIf="missingForm.get('altura').hasError('min') || missingForm.get('altura').hasError('max')">
                            La altura debe estar entre 0 y 300 cm
                        </mat-error>
                    </mat-form-field>

                    <mat-form-field class="w-full">
                        <mat-label>Peso (kg)</mat-label>
                        <input matInput type="number" formControlName="peso">
                        <mat-error *ngIf="missingForm.get('peso').hasError('min') || missingForm.get('peso').hasError('max')">
                            El peso debe estar entre 0 y 500 kg
                        </mat-error>
                    </mat-form-field>

                    <div class="col-span-full">
                        <mat-form-field class="w-full">
                            <mat-label>Características distintivas</mat-label>
                            <textarea matInput rows="3" formControlName="caracteristicasDistintivas"
                                placeholder="Cicatrices, tatuajes, marcas de nacimiento, etc."></textarea>
                        </mat-form-field>
                    </div>

                    <div class="col-span-full">
                        <mat-form-field class="w-full">
                            <mat-label>Vestimenta al momento de la desaparición</mat-label>
                            <textarea matInput rows="3" formControlName="vestimenta" required></textarea>
                            <mat-error *ngIf="missingForm.get('vestimenta').hasError('required')">
                                Este campo es requerido
                            </mat-error>
                        </mat-form-field>
                    </div>

                    <!-- Información de contacto del reportante -->
                    <mat-form-field class="w-full">
                        <mat-label>Nombre del reportante</mat-label>
                        <input matInput formControlName="nombreReportante" required>
                        <mat-error *ngIf="missingForm.get('nombreReportante').hasError('required')">
                            Este campo es requerido
                        </mat-error>
                    </mat-form-field>

                    <mat-form-field class="w-full">
                        <mat-label>Teléfono de contacto</mat-label>
                        <input matInput type="tel" formControlName="telefonoContacto" required>
                        <mat-error *ngIf="missingForm.get('telefonoContacto').hasError('required')">
                            Este campo es requerido
                        </mat-error>
                        <mat-error *ngIf="missingForm.get('telefonoContacto').hasError('pattern')">
                            Ingrese un número de teléfono válido
                        </mat-error>
                    </mat-form-field>

                    <div class="col-span-full">
                        <mat-form-field class="w-full">
                            <mat-label>Información adicional relevante</mat-label>
                            <textarea matInput rows="3" formControlName="informacionAdicional"
                                placeholder="Cualquier información adicional que pueda ser útil para la búsqueda"></textarea>
                        </mat-form-field>
                    </div>
                </div>

                <!-- Botones de acción -->
                <div class="flex items-center justify-end mt-8">
                    <button type="button" mat-stroked-button class="mr-2" (click)="onCancel()">
                        Cancelar
                    </button>
                    <button type="submit" mat-flat-button color="primary">
                        Enviar Reporte
                    </button>
                </div>
            </form>
        </div>
    </div>
</div> 